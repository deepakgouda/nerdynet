<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Go - Simple, concurrent code in minutes | Deepak Gouda</title> <meta name="author" content="Deepak Gouda"/> <meta name="description" content="Links I found useful about Go"/> <meta name="keywords" content="academic-website, portfolio-website"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="/assets/img/title-icon.png"/> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://deepakgouda.github.io/blog/2021/go/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="https://deepakgouda.github.io/"><span class="font-weight-bold">Deepak</span> Gouda</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/shots/">shots</a> </li> <li class="nav-item "> <a class="nav-link" href="/gallery/">gallery</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/talks/">talks</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/genealogy/">genealogy</a> <a class="dropdown-item" href="/checklist/">checklist</a> </div> </li> <div class="toggle-container"> <a id="light-toggle"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </a> </div> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Go - Simple, concurrent code in minutes</h1> <p class="post-meta">March 7, 2021</p> <p class="post-tags"> <a href="/blog/2021"> <i class="fas fa-calendar fa-sm"></i> 2021 </a>   ·   <a href="/blog/tag/tech"> <i class="fas fa-hashtag fa-sm"></i> tech</a>   <a href="/blog/tag/language"> <i class="fas fa-hashtag fa-sm"></i> language</a>     ·   <a href="/blog/category/Language"> <i class="fas fa-tag fa-sm"></i> Language</a>   </p> </header> <article class="post-content"> <p>This post consists of various links and excerpts that I collected while deciding a language for a project that demanded multi-threading capabilities and low latency. Go was one of the candidates but I did not go ahead with it because of latency demands. Hence, I have no real programming experience in Go but the links would prove useful to anyone who wants to know more about Go, it’s advantages and disadvantages and use cases.</p> <ul> <li><a href="https://www.youtube.com/watch?v=LvgVSSpwND8" target="_blank" rel="noopener noreferrer">Concurrency in Go</a></li> <li>Go is unapologetically simple</li> <li>Thread binding in Go <ul> <li><a href="https://stackoverflow.com/questions/19758961/is-it-possible-to-force-a-go-routine-to-be-run-on-a-specific-cpu" target="_blank" rel="noopener noreferrer">Source 1</a></li> <li><a href="https://stackoverflow.com/questions/32452610/golang-how-to-handle-blocking-tasks-optimally" target="_blank" rel="noopener noreferrer">Source 2</a></li> </ul> </li> <li>Goroutines <ul> <li>Cheaper than threads</li> <li>Can communicate using channels, but prone to blocking</li> <li>The Goroutines are multiplexed to fewer number of OS threads. There might be only one thread in a program with thousands of Goroutines. If any Goroutine in that thread blocks say waiting for user input, then another OS thread is created and the remaining Goroutines are moved to the new OS thread. All these are taken care by the runtime and we as programmers are abstracted from these intricate details and are given a clean API to work with concurrency. <a href="https://golangbot.com/goroutines/" target="_blank" rel="noopener noreferrer">Source</a> </li> <li>Threads vs GoRoutines. <a href="https://medium.com/rungo/achieving-concurrency-in-go-3f84cbf870ca" target="_blank" rel="noopener noreferrer">Source</a> </li> </ul> </li> </ul> <table> <thead> <tr> <th>Thread</th> <th>Goroutine</th> </tr> </thead> <tbody> <tr> <td>OS threads are managed by kernal and has hardware dependencies.</td> <td>goroutines are managed by go runtime and has no hardware dependencies.</td> </tr> <tr> <td>OS threads generally have fixed stack size of 1-2MB</td> <td>goroutines typically have 8KB (2KB since Go 1.4) of stack size in newer versions of go</td> </tr> <tr> <td>Stack size is determined during compile time and can not grow</td> <td>Stack size of go is managed in run-time and can grow up to 1GB which is possible by allocating and freeing heap storage</td> </tr> <tr> <td>There is no easy communication medium between threads. There is huge latency between inter-thread communication.</td> <td>goroutine use `channels` to communicate with other goroutines with low latency (<a href="https://blog.twitch.tv/gos-march-to-low-latency-gc-a6fa96f06eb7" target="_blank" rel="noopener noreferrer">read more</a>).</td> </tr> <tr> <td>Threads have identity. There is TID which identifies each thread in a process.</td> <td>goroutine do not have any identity. go implemented this because go does not have TLS(<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms686749(v=vs.85).aspx" target="_blank" rel="noopener noreferrer">Thread Local Storage</a>).</td> </tr> <tr> <td>Threads have significant setup and teardown cost as a thread has to request lots of resources from OS and return once it’s done.</td> <td>goroutines are created and destroyed by the go’s runtime. These operations are very cheap compared to threads as go runtime already maintain pool of threads for goroutines. In this case OS is not aware of goroutines.</td> </tr> <tr> <td>Threads are preemptively scheduled (<a href="https://stackoverflow.com/questions/4147221/preemptive-threads-vs-non-preemptive-threads" target="_blank" rel="noopener noreferrer">read here</a>). Switching cost between threads is high as scheduler needs to save/restore more than 50 registers and states. This can be quite significant when there is rapid switching between threads.</td> <td>goroutines are coopertively scheduled (<a href="https://stackoverflow.com/questions/37469995/goroutines-are-cooperatively-scheduled-does-that-mean-that-goroutines-that-don" target="_blank" rel="noopener noreferrer">read more</a>). When a goroutine switch occurs, only 3 registers need to be saved or restored.</td> </tr> </tbody> </table> <ul> <li>Go’s concurrency model is a good fit for server-side applications that must primarily handle multiple independent requests, rather than participate in complex result-passing schemes.</li> <li>Go has great tooling to diagnose concurrency and performance problems, and cross-compilation makes deploying on whichever platform a breeze.</li> <li>Concurrency</li> </ul> <p><em>Most languages have some form of support for concurrent programming (doing multiple things at once), but Go was designed for this job from the ground up. Instead of using operating system threads, Go provides a lightweight alternative: <strong>goroutines</strong>. Each goroutine is an independently executing Go function, which the Go scheduler will map to one of the OS threads under its control. This means that the scheduler can very efficiently manage a large number of concurrent goroutines, using only a limited number of OS threads.</em></p> <p><em>Consequently, you can run millions of concurrent goroutines in a single program without creating serious performance problems. That makes Go the perfect choice for high-scale concurrent applications such as webservers and microservices.</em> <a href="https://bitfieldconsulting.com/golang/rust-vs-go" target="_blank" rel="noopener noreferrer">Source</a></p> <blockquote> <p>My take: Go for the code that has to ship tomorrow, Rust for the code that has to keep running untouched for the next five years.<br> —Grzegorz Nosek</p> </blockquote> <ul> <li><a href="https://github.com/wailsapp/wails" target="_blank" rel="noopener noreferrer">GUI Apps</a></li> </ul> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container" style="text-align:center;"> © Copyright 2025 Deepak Gouda. <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer"> Template here!</a>. All images are my own. Last updated: February 06, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script src="/assets/js/zoom.js"></script> <script src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>